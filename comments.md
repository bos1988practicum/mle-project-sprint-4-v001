# Review

##### `core/recommendations.py`

- str 11: "Подскажи, что за функция такая? Что означает n? (Кстати переменные нужно называть осмысленно, чтобы было понятно о чем речь). Кажется какой то костыль, подскажи какая у тебя проблема  с импортами, постараемся ее решить более правильно"

> n - это на сколько уровней выше взять путь корня
>
> Проблема в чем: `recommendations.py` можно запустить из той директории где он лежит, т.е. из `mle-recsys-project/core/`. Также Recomendations импортируется из корневой директории, т.е. из `mle-recsys-project/`. В обоих случаях нужно, чтобы корректно импортировался `logger` из `mle-recsys-project/core/logger.py`. Если есть более элегантное решение - буду рад узнать (принимается только реально проверенный вариант).

Answer: "В файле recommendations.py стоит использовать  from .logger import function
Вне папки core использовать from core import logger

При условии запуска из корня все должно работать.

фразу "принимаю только проверенный вариант" - пропущу мимо ушей) Я не буду отлаживать проект твой, но знаю что текущий костыль оставлять нельзя."

> Предложен непроверенный неработающий вариант

- str 40: "Столько новых строк не требуется, новую строку стоит применять если не умещаются параметры в одной."

> Мое субъективное мнение: когда параметров много, то их сложно визуально считывать в одной строке.

Answer: "К счастью у нас есть PEP8, и можно руководствоваться ими. Если программисты будут руководствоваться субьективным мнением, то будет каша

PEP 8 рекомендует переносить параметры функции на новую строку в тех случаях, когда строка становится слишком длинной и выходит за пределы рекомендуемых 79 символов. Основные моменты:

Максимальная длина строки: PEP 8 рекомендует ограничивать длину строки 79 символами. Если список параметров функции слишком длинный, его следует разбить на несколько строк."

> Надо бы перепроверить PEP 8 регламентирует НЕ ПЕРЕНОСИТЬ строку если длина МНЕНЕЕ 79 символов или ПЕРЕНОСИТЬ если длина строки БОЛЕЕ 79 символов - это принципиально разные вещи.

- str 67: "Вижу тут одинаковые действия, по идее можно было бы загнать в циклы и сделать в циклах, чтобы сэкономить строчки кода и не делать копипаст"

> Здесь разве что пару строк кода одинаковых. Но строить цикл ради сокращения двух строк кода в одну строку + строку объявления цикла смысла не вижу. Остальные строки отличаются на несколько параметров и циклы с множеством параметров и ветвлениями усложнят читаемость кода.

Answer: "Ну ок, это принимается. Но в целом можно делать не ветвления а еще списки и итерироваться сразу по всем

типа for i,j,k in zip(list1,list2,list3)"

- str 79: "Насколько я понимаю, здесь хочется обойти проблему отсутствия ключа в словаре. Я бы посоветовала это сделать просто с помощью if, т.к. это вполне можно обработать так. Исключения стоит использовать в случаях когда нельзя обработать простым способом ситуацию"

> Код из уроков. Такое решение обходит 2 проблемы:
>
> - отсутствие подходящего индекса
> - отсутствие какого-либо загруженного набора данных
>
> Думаю данное решение оптимально

Answer: "Я понимаю, что это код из уроков, но моя задача дать тебе наиболее верные рекомендации по оформлению кода. В данном случае они такие, отсутствие индексов и наборов данных стоит проверить отдельно и добавить в логирование если есть такие проблемы. Исключения таят в себе проблемы, в отличие от простых условий"

##### `core/similar_items.py`

- str 24: "Кстати, не обязательно фиксировать все поля таким образом. При вызове load они все создадутся и так. Кстати вместо load можно использовать init"

> Это вроде "хорошего тона" в ООП объявлять все атрибуты класса в методе init. Еще это регламентирует PEP и полезно для обработки кода IDE.

Answer: "Я извиняюсь, почему то мне показалось что ты делать это вне init, а ты делал внутри init - Да, так действительно правильно и именно так пишут в pep8"

##### `README.md`

- str 47: "В принципе не обязательно сначала писать ссылки, а потом уже команды. Для более лаконичной инструкции стоит сразу написать команды"

> Не понял о чем речь. Код из подготовленного Яндексом репозитория https://github.com/yandex-praktikum/mle-recsys-project.

Answer: "Повторюсь, что моя задача подсказать наиболее оптимальные способы оформления кода и ридми. ДАЖЕ ЕСЛИ в шаблоне так, даже если в примере кода на платформе так, контент пишут другие люди, не ревьюеры. У тебя в инструкции два раза ссылки повторяются, и в командах wget и перед этим, вот то что идет первым - лишнее, не требуется"

##### `recommendation_service.py`

- str 23: "Если закоменнтированные строки не нужны, то в чистовой проект (в пулл реквест в реальной работе) они не должны поступать. Просто чистим код от всех дебажных штучек"

> Действительно забыл удалить. Исправил.

Answer: ""

- str 33: "Смотри, пути к файлами и их названия лучше фиксировать в отдельном файлике с константами, т.к. это переменные которые могут использоваться в разных файлах. Если ты переименуешь файлик, тебе придется возвращаться во все эти файлы и править имена, можно забыть, это неудобно."

> Добавил вынесенные настройки

Answer: ""

##### `test_service.py`

- "Слишком много файлов тестов и логов. Предлагаю все объединить как-то. Можно сделать разные классы, если хочется разделить. Но лог лучше сделать один, с тегами. "
- "в настоящем для покрытия кода тестами используют следующие либы: - unittest - pytest - doctest и другие, но первые две самые популярные."

> Добавил автотесты

Answer: "Всё посмотрела, отлично сделал, молодец!"



## Message

Анжела, привет!

Спасибо за ревью!

1. Можно сделать супер проект с выдержанной структурой, автотестами, настройками, валидацией, CICD, контейнеризацией и т.д., но я старался делать проект в рамках тех материалов и кода, которые давали в курсе и тех условий, которые были в задании к проекту.

Answer: "Хорошо, я поняла! В любом случае мои комментарии были не критические, а "можно лучше", круто что ты поправил многое. Они обычно рекомендуются к исправлению, но не обязательны"

2. Буду очень признателен, если ты действительно знаешь как обойти проблему с импортами и подскажешь правильное решение.

Answer: "Я написала что мне кажется может помочь. В любом случае советую использовать chatGPT, если мое решение не сработает"
